{% extends 'layout.html' %}

{% block body %}
  <div class="row step-nav hidden-xs">
    <div class="panel panel-default">
      <div class="panel-body step-nav-buttons">
        {% for s in recipe.steps %}
        <a class="btn btn-{% if loop.first %}primary{% else %}default{% endif %}" href="#step-{{ loop.index }}">Step {{ loop.index }}</a>
        {% endfor %}
      </div>
    </div>
  </div>

  <div class="step-scroll-container">
    <div class="row step-row">

      {% for s in recipe.steps %}
      <div class="step-container col-sm-12" id="step-{{ loop.index }}" data-step="{{ loop.index }}">
        <div class="panel panel-default">
          <div class="panel-body">
            <span class="step-number h3">{{ loop.index }}</span>
            <div class="step-ingredients col-xs-12 col-sm-3">
              <ul class="list-unstyled">
                {{ s.ingredients|formatIngredients|raw }}
              </ul>
            </div>
            <div class="step-instructions col-xs-12 col-sm-5">
              {{ s.instructions|raw }}
            </div>
            <div class="hidden-xs col-sm-4 thumbnail">
{# TODO Replace with step id #}
              <img class="img-responsive" src="{{ imageUrl(recipe.id, s.image_name) }}">
            </div>
          </div>
        </div>
      </div>
      {% endfor %}

    </div>
  </div><!-- /.step-scroll-container -->
{% endblock %}